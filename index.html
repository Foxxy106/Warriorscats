<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="kočičí,válečníci,warriors,cats">
    <title>Warriors cats</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<h1>Překlady Kočičích Válečníků</h1>

    <!-- Přidávání nových jmen -->
    <input type="text" id="newEnglish" placeholder="Anglické jméno">
    <input type="text" id="newCzech" placeholder="České jméno">
    <button onclick="addName()">Přidat</button>

    <!-- Tabulka s jmény -->
    <table>
        <thead>
            <tr>
                <th>Anglické jméno</th>
                <th>České jméno</th>
            </tr>
        </thead>
        <tbody id="nameList"></tbody>
    </table>
<body>
  <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyACgG8xZvMHWFJPlo-WJwyMKDOhD4NRZQI",
    authDomain: "warriors-cats-cz.firebaseapp.com",
    projectId: "warriors-cats-cz",
    storageBucket: "warriors-cats-cz.firebasestorage.app",
    messagingSenderId: "103962692564",
    appId: "1:103962692564:web:e72bb5d2a2309a90182441",
    measurementId: "G-6X0J9J8PKC"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
      async function loadNames() {
            const querySnapshot = await getDocs(collection(db, "warriorNames"));
            const names = [];
            querySnapshot.forEach(doc => {
                names.push(doc.data());
            });
            displayNames(names);
        }

        // ✅ Funkce pro zobrazení jmen v tabulce
        function displayNames(names) {
            const table = document.getElementById("nameList");
            table.innerHTML = "";
            names.forEach(cat => {
                table.innerHTML += `<tr><td>${cat.english}</td><td>${cat.czech}</td></tr>`;
            });
        }

        // ✅ Funkce pro přidání nového jména do Firestore
        async function addName() {
            const englishName = document.getElementById("newEnglish").value.trim();
            const czechName = document.getElementById("newCzech").value.trim();

            if (englishName === "" || czechName === "") {
                alert("Vyplň obě jména!");
                return;
            }

            await addDoc(collection(db, "warriorNames"), {
                english: englishName,
                czech: czechName
            });

            document.getElementById("newEnglish").value = "";
            document.getElementById("newCzech").value = "";

            loadNames(); // Znovu načti jména po přidání
        }

        // ✅ Načti jména při otevření stránky
        window.onload = () => {
            loadNames();
        };
</script>
</body>
